window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.autocomplete=e():t.autocomplete=e()}(this,function(){return s={},n.m=i=[function(t,e,n){"use strict";t.exports=n(1)},function(t,e,n){"use strict";var u=n(2);n(3).element=u;var i=n(4);i.isArray=u.isArray,i.isFunction=u.isFunction,i.isObject=u.isPlainObject,i.bind=u.proxy,i.each=function(t,n){u.each(t,function(t,e){return n(e,t)})},i.map=u.map,i.mixin=u.extend,i.Event=u.Event;var c="aaAutocomplete",h=n(5),_=n(6);function s(t,r,o,a){o=i.isArray(o)?o:[].slice.call(arguments,2);var e=u(t).each(function(t,e){var n=u(e),i=new _({el:n}),s=a||new h({input:n,eventBus:i,dropdownMenuContainer:r.dropdownMenuContainer,hint:void 0===r.hint||!!r.hint,minLength:r.minLength,autoselect:r.autoselect,autoselectOnBlur:r.autoselectOnBlur,tabAutocomplete:r.tabAutocomplete,openOnFocus:r.openOnFocus,templates:r.templates,debug:r.debug,clearOnSelected:r.clearOnSelected,cssClasses:r.cssClasses,datasets:o,keyboardShortcuts:r.keyboardShortcuts,appendTo:r.appendTo,autoWidth:r.autoWidth,ariaLabel:r.ariaLabel||e.getAttribute("aria-label")});n.data(c,s)});return e.autocomplete={},i.each(["open","close","getVal","setVal","destroy","getWrapper"],function(r){e.autocomplete[r]=function(){var i,s=arguments;return e.each(function(t,e){var n=u(e).data(c);i=n[r].apply(n,s)}),i}}),e}s.sources=h.sources,s.escapeHighlightedString=i.escapeHighlightedString;var r="autocomplete"in window,o=window.autocomplete;s.noConflict=function(){return r?window.autocomplete=o:delete window.autocomplete,s},t.exports=s},function(t,e){var n,G,i;n=window,t.exports=(G=n,function(h){function c(t){return"string"==typeof t}var _,e=1,p=Array.prototype.slice,l=h.isFunction,d={},r={},n="onfocusin"in G,i={focus:"focusin",blur:"focusout"},f={mouseenter:"mouseover",mouseleave:"mouseout"};function g(t){return t._zid||(t._zid=e++)}function o(t,e,n,i){var s,r;return(e=m(e)).ns&&(r=e.ns,s=new RegExp("(?:^| )"+r.replace(" "," .* ?")+"(?: |$)")),(d[g(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||s.test(t.ns))&&(!n||g(t.fn)===g(n))&&(!i||t.sel==i)})}function m(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function y(t,e){return t.del&&!n&&t.e in i||!!e}function v(t){return f[t]||n&&i[t]||t}function w(s,t,e,r,o,a,u){var n=g(s),c=d[n]||(d[n]=[]);t.split(/\s/).forEach(function(t){if("ready"==t)return h(document).ready(e);var n=m(t);n.fn=e,n.sel=o,n.e in f&&(e=function(t){var e=t.relatedTarget;if(!e||e!==this&&!h.contains(this,e))return n.fn.apply(this,arguments)});var i=(n.del=a)||e;n.proxy=function(t){if(!(t=k(t)).isImmediatePropagationStopped()){try{var e=Object.getOwnPropertyDescriptor(t,"data");e&&!e.writable||(t.data=r)}catch(t){}var n=i.apply(s,t._args==_?[t]:[t].concat(t._args));return!1===n&&(t.preventDefault(),t.stopPropagation()),n}},n.i=c.length,c.push(n),"addEventListener"in s&&s.addEventListener(v(n.e),n.proxy,y(n,u))})}function b(e,t,n,i,s){var r=g(e);(t||"").split(/\s/).forEach(function(t){o(e,t,n,i).forEach(function(t){delete d[r][t.i],"removeEventListener"in e&&e.removeEventListener(v(t.e),t.proxy,y(t,s))})})}r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",h.event={add:w,remove:b},h.proxy=function(t,e){var n=2 in arguments&&p.call(arguments,2);if(l(t)){function i(){return t.apply(e,n?n.concat(p.call(arguments)):arguments)}return i._zid=g(t),i}if(c(e))return n?(n.unshift(t[e],t),h.proxy.apply(null,n)):h.proxy(t[e],t);throw new TypeError("expected function")},h.fn.bind=function(t,e,n){return this.on(t,e,n)},h.fn.unbind=function(t,e){return this.off(t,e)},h.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var a=function(){return!0},x=function(){return!1},s=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,t={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function k(i,s){if(s||!i.isDefaultPrevented){s=s||i,h.each(t,function(t,e){var n=s[t];i[t]=function(){return this[e]=a,n&&n.apply(s,arguments)},i[e]=x});try{i.timeStamp||(i.timeStamp=Date.now())}catch(t){}(s.defaultPrevented!==_?s.defaultPrevented:"returnValue"in s?!1===s.returnValue:s.getPreventDefault&&s.getPreventDefault())&&(i.isDefaultPrevented=a)}return i}function T(t){var e,n={originalEvent:t};for(e in t)s.test(e)||t[e]===_||(n[e]=t[e]);return k(n,t)}h.fn.delegate=function(t,e,n){return this.on(e,t,n)},h.fn.undelegate=function(t,e,n){return this.off(e,t,n)},h.fn.live=function(t,e){return h(document.body).delegate(this.selector,t,e),this},h.fn.die=function(t,e){return h(document.body).undelegate(this.selector,t,e),this},h.fn.on=function(e,s,n,r,o){var a,u,i=this;return e&&!c(e)?(h.each(e,function(t,e){i.on(t,s,n,e,o)}),i):(c(s)||l(r)||!1===r||(r=n,n=s,s=_),r!==_&&!1!==n||(r=n,n=_),!1===r&&(r=x),i.each(function(t,i){o&&(a=function(t){return b(i,t.type,r),r.apply(this,arguments)}),s&&(u=function(t){var e,n=h(t.target).closest(s,i).get(0);if(n&&n!==i)return e=h.extend(T(t),{currentTarget:n,liveFired:i}),(a||r).apply(n,[e].concat(p.call(arguments,1)))}),w(i,e,r,n,s,u||a)}))},h.fn.off=function(t,n,e){var i=this;return t&&!c(t)?(h.each(t,function(t,e){i.off(t,n,e)}),i):(c(n)||l(e)||!1===e||(e=n,n=_),!1===e&&(e=x),i.each(function(){b(this,t,e,n)}))},h.fn.trigger=function(t,e){return(t=c(t)||h.isPlainObject(t)?h.Event(t):k(t))._args=e,this.each(function(){t.type in i&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):h(this).triggerHandler(t,e)})},h.fn.triggerHandler=function(n,i){var s,r;return this.each(function(t,e){(s=T(c(n)?h.Event(n):n))._args=i,s.target=e,h.each(o(e,n.type||n),function(t,e){if(r=e.proxy(s),s.isImmediatePropagationStopped())return!1})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){h.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),h.Event=function(t,e){c(t)||(t=(e=t).type);var n=document.createEvent(r[t]||"Events"),i=!0;if(e)for(var s in e)"bubbles"==s?i=!!e[s]:n[s]=e[s];return n.initEvent(t,i,!0),k(n)}}(i=function(){var u,o,c,i,a,n,s=[],r=s.concat,h=s.filter,_=s.slice,p=G.document,l={},e={},d={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},f=/^\s*<(\w+|!)[^>]*>/,g=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,y=/^(?:body|html)$/i,v=/([A-Z])/g,w=["val","css","html","text","data","width","height","offset"],t=p.createElement("table"),b=p.createElement("tr"),x={tr:p.createElement("tbody"),tbody:t,thead:t,tfoot:t,td:b,th:b,"*":p.createElement("div")},k=/complete|loaded|interactive/,T=/^[\w-]*$/,C={},E=C.toString,A={},O=p.createElement("div"),S={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},N=Array.isArray||function(t){return t instanceof Array};function $(t){return null==t?String(t):C[E.call(t)]||"object"}function D(t){return"function"==$(t)}function I(t){return null!=t&&t==t.window}function R(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function L(t){return"object"==$(t)}function j(t){return L(t)&&!I(t)&&Object.getPrototypeOf(t)==Object.prototype}function P(t){var e=!!t&&"length"in t&&t.length,n=c.type(t);return"function"!=n&&!I(t)&&("array"==n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function M(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function z(t){return t in e?e[t]:e[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function F(t,e){return"number"!=typeof e||d[M(t)]?e:e+"px"}function U(t){return"children"in t?_.call(t.children):c.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function K(t,e){for(var n=t?t.length:0,i=0;i<n;i++)this[i]=t[i];this.length=n,this.selector=e||""}function V(t,e){return null==e?c(t):c(t).filter(e)}function B(t,e,n,i){return D(e)?e.call(t,n,i):e}function q(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function H(t,e){var n=t.className||"",i=n&&n.baseVal!==u;if(e===u)return i?n.baseVal:n;i?n.baseVal=e:t.className=e}function W(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?c.parseJSON(e):e):e}catch(t){return e}}return A.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,s=t.parentNode,r=!s;return r&&(s=O).appendChild(t),i=~A.qsa(s,e).indexOf(t),r&&O.removeChild(t),i},a=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},n=function(n){return h.call(n,function(t,e){return n.indexOf(t)==e})},A.fragment=function(t,e,n){var i,s,r;return g.test(t)&&(i=c(p.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(m,"<$1></$2>")),e===u&&(e=f.test(t)&&RegExp.$1),e in x||(e="*"),(r=x[e]).innerHTML=""+t,i=c.each(_.call(r.childNodes),function(){r.removeChild(this)})),j(n)&&(s=c(i),c.each(n,function(t,e){-1<w.indexOf(t)?s[t](e):s.attr(t,e)})),i},A.Z=function(t,e){return new K(t,e)},A.isZ=function(t){return t instanceof A.Z},A.init=function(t,e){var n,i;if(!t)return A.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&f.test(t))n=A.fragment(t,RegExp.$1,e),t=null;else{if(e!==u)return c(e).find(t);n=A.qsa(p,t)}else{if(D(t))return c(p).ready(t);if(A.isZ(t))return t;if(N(t))i=t,n=h.call(i,function(t){return null!=t});else if(L(t))n=[t],t=null;else if(f.test(t))n=A.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==u)return c(e).find(t);n=A.qsa(p,t)}}return A.Z(n,t)},(c=function(t,e){return A.init(t,e)}).extend=function(e){var n,t=_.call(arguments,1);return"boolean"==typeof e&&(n=e,e=t.shift()),t.forEach(function(t){!function t(e,n,i){for(o in n)i&&(j(n[o])||N(n[o]))?(j(n[o])&&!j(e[o])&&(e[o]={}),N(n[o])&&!N(e[o])&&(e[o]=[]),t(e[o],n[o],i)):n[o]!==u&&(e[o]=n[o])}(e,t,n)}),e},A.qsa=function(t,e){var n,i="#"==e[0],s=!i&&"."==e[0],r=i||s?e.slice(1):e,o=T.test(r);return t.getElementById&&o&&i?(n=t.getElementById(r))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:_.call(o&&!i&&t.getElementsByClassName?s?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},c.contains=p.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e=e&&e.parentNode;)if(e===t)return!0;return!1},c.type=$,c.isFunction=D,c.isWindow=I,c.isArray=N,c.isPlainObject=j,c.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},c.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},c.inArray=function(t,e,n){return s.indexOf.call(e,t,n)},c.camelCase=a,c.trim=function(t){return null==t?"":String.prototype.trim.call(t)},c.uuid=0,c.support={},c.expr={},c.noop=function(){},c.map=function(t,e){var n,i,s,r,o=[];if(P(t))for(i=0;i<t.length;i++)null!=(n=e(t[i],i))&&o.push(n);else for(s in t)null!=(n=e(t[s],s))&&o.push(n);return 0<(r=o).length?c.fn.concat.apply([],r):r},c.each=function(t,e){var n,i;if(P(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(i in t)if(!1===e.call(t[i],i,t[i]))return t;return t},c.grep=function(t,e){return h.call(t,e)},G.JSON&&(c.parseJSON=JSON.parse),c.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){C["[object "+e+"]"]=e.toLowerCase()}),c.fn={constructor:A.Z,length:0,forEach:s.forEach,reduce:s.reduce,push:s.push,sort:s.sort,splice:s.splice,indexOf:s.indexOf,concat:function(){for(var t,e=[],n=0;n<arguments.length;n++)t=arguments[n],e[n]=A.isZ(t)?t.toArray():t;return r.apply(A.isZ(this)?this.toArray():this,e)},map:function(n){return c(c.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return c(_.apply(this,arguments))},ready:function(t){return k.test(p.readyState)&&p.body?t(c):p.addEventListener("DOMContentLoaded",function(){t(c)},!1),this},get:function(t){return t===u?_.call(this):this[0<=t?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return s.every.call(this,function(t,e){return!1!==n.call(t,e,t)}),this},filter:function(e){return D(e)?this.not(this.not(e)):c(h.call(this,function(t){return A.matches(t,e)}))},add:function(t,e){return c(n(this.concat(c(t,e))))},is:function(t){return 0<this.length&&A.matches(this[0],t)},not:function(e){var n,i=[];return D(e)&&e.call!==u?this.each(function(t){e.call(this,t)||i.push(this)}):(n="string"==typeof e?this.filter(e):P(e)&&D(e.item)?_.call(e):c(e),this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})),c(i)},has:function(t){return this.filter(function(){return L(t)?c.contains(this,t):c(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!L(t)?t:c(t)},last:function(){var t=this[this.length-1];return t&&!L(t)?t:c(t)},find:function(t){var n=this,e=t?"object"==typeof t?c(t).filter(function(){var e=this;return s.some.call(n,function(t){return c.contains(t,e)})}):1==this.length?c(A.qsa(this[0],t)):this.map(function(){return A.qsa(this,t)}):c();return e},closest:function(n,i){var s=[],r="object"==typeof n&&c(n);return this.each(function(t,e){for(;e&&!(r?0<=r.indexOf(e):A.matches(e,n));)e=e!==i&&!R(e)&&e.parentNode;e&&s.indexOf(e)<0&&s.push(e)}),c(s)},parents:function(t){for(var e=[],n=this;0<n.length;)n=c.map(n,function(t){if((t=t.parentNode)&&!R(t)&&e.indexOf(t)<0)return e.push(t),t});return V(e,t)},parent:function(t){return V(n(this.pluck("parentNode")),t)},children:function(t){return V(this.map(function(){return U(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||_.call(this.childNodes)})},siblings:function(t){return V(this.map(function(t,e){return h.call(U(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return c.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,l[t]||(e=p.createElement(t),p.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),l[t]=n),l[t]))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(e){var n,i,s=D(e);return this[0]&&!s&&(n=c(e).get(0),i=n.parentNode||1<this.length),this.each(function(t){c(this).wrapAll(s?e.call(this,t):i?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){var e;for(c(this[0]).before(t=c(t));(e=t.children()).length;)t=e.first();c(t).append(this)}return this},wrapInner:function(s){var r=D(s);return this.each(function(t){var e=c(this),n=e.contents(),i=r?s.call(this,t):s;n.length?n.wrapAll(i):e.append(i)})},unwrap:function(){return this.parent().each(function(){c(this).replaceWith(c(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=c(this);(e===u?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(t){return c(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return c(this.pluck("nextElementSibling")).filter(t||"*")},html:function(n){return 0 in arguments?this.each(function(t){var e=this.innerHTML;c(this).empty().append(B(this,n,t,e))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(t){var e=B(this,n,t,this.textContent);this.textContent=null==e?"":""+e}):0 in this?this.pluck("textContent").join(""):null},attr:function(e,n){var t;return"string"!=typeof e||1 in arguments?this.each(function(t){if(1===this.nodeType)if(L(e))for(o in e)q(this,o,e[o]);else q(this,e,B(this,n,t,this.getAttribute(e)))}):0 in this&&1==this[0].nodeType&&null!=(t=this[0].getAttribute(e))?t:u},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){q(this,t)},this)})},prop:function(e,n){return e=S[e]||e,1 in arguments?this.each(function(t){this[e]=B(this,n,t,this[e])}):this[0]&&this[0][e]},removeProp:function(t){return t=S[t]||t,this.each(function(){delete this[t]})},data:function(t,e){var n="data-"+t.replace(v,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?W(i):u},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each(function(t){this.value=B(this,e,t,this.value)})):this[0]&&(this[0].multiple?c(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(r){if(r)return this.each(function(t){var e=c(this),n=B(this,r,t,e.offset()),i=e.offsetParent().offset(),s={top:n.top-i.top,left:n.left-i.left};"static"==e.css("position")&&(s.position="relative"),e.css(s)});if(!this.length)return null;if(p.documentElement!==this[0]&&!c.contains(p.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+G.pageXOffset,top:t.top+G.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,e){if(arguments.length<2){var n=this[0];if("string"==typeof t){if(!n)return;return n.style[a(t)]||getComputedStyle(n,"").getPropertyValue(t)}if(N(t)){if(!n)return;var i={},s=getComputedStyle(n,"");return c.each(t,function(t,e){i[e]=n.style[a(e)]||s.getPropertyValue(e)}),i}}var r="";if("string"==$(t))e||0===e?r=M(t)+":"+F(t,e):this.each(function(){this.style.removeProperty(M(t))});else for(o in t)t[o]||0===t[o]?r+=M(o)+":"+F(o,t[o])+";":this.each(function(){this.style.removeProperty(M(o))});return this.each(function(){this.style.cssText+=";"+r})},index:function(t){return t?this.indexOf(c(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&s.some.call(this,function(t){return this.test(H(t))},z(t))},addClass:function(n){return n?this.each(function(t){var e;"className"in this&&(i=[],e=H(this),B(this,n,t,e).split(/\s+/g).forEach(function(t){c(this).hasClass(t)||i.push(t)},this),i.length&&H(this,e+(e?" ":"")+i.join(" ")))}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===u)return H(this,"");i=H(this),B(this,e,t,i).split(/\s+/g).forEach(function(t){i=i.replace(z(t)," ")}),H(this,i.trim())}})},toggleClass:function(n,i){return n?this.each(function(t){var e=c(this);B(this,n,t,H(this)).split(/\s+/g).forEach(function(t){(i===u?!e.hasClass(t):i)?e.addClass(t):e.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===u?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===u?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=y.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(c(t).css("margin-top"))||0,n.left-=parseFloat(c(t).css("margin-left"))||0,i.top+=parseFloat(c(e[0]).css("border-top-width"))||0,i.left+=parseFloat(c(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||p.body;t&&!y.test(t.nodeName)&&"static"==c(t).css("position");)t=t.offsetParent;return t})}},c.fn.detach=c.fn.remove,["width","height"].forEach(function(i){var s=i.replace(/./,function(t){return t[0].toUpperCase()});c.fn[i]=function(e){var t,n=this[0];return e===u?I(n)?n["inner"+s]:R(n)?n.documentElement["scroll"+s]:(t=this.offset())&&t[i]:this.each(function(t){(n=c(this)).css(i,B(this,e,t,n[i]()))})}}),["after","prepend","before","append"].forEach(function(e,o){var a=o%2;c.fn[e]=function(){var n,i,s=c.map(arguments,function(t){var e=[];return"array"==(n=$(t))?(t.forEach(function(t){return t.nodeType!==u?e.push(t):c.zepto.isZ(t)?e=e.concat(t.get()):void(e=e.concat(A.fragment(t)))}),e):"object"==n||null==t?t:A.fragment(t)}),r=1<this.length;return s.length<1?this:this.each(function(t,e){i=a?e:e.parentNode,e=0==o?e.nextSibling:1==o?e.firstChild:2==o?e:null;var n=c.contains(p.documentElement,i);s.forEach(function(t){if(r)t=t.cloneNode(!0);else if(!i)return c(t).remove();i.insertBefore(t,e),n&&function t(e,n){n(e);for(var i=0,s=e.childNodes.length;i<s;i++)t(e.childNodes[i],n)}(t,function(t){var e;null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||(e=t.ownerDocument?t.ownerDocument.defaultView:G).eval.call(e,t.innerHTML)})})})},c.fn[a?e+"To":"insert"+(o?"Before":"After")]=function(t){return c(t)[e](this),this}}),A.Z.prototype=K.prototype=c.fn,A.uniq=n,A.deserializeValue=W,c.zepto=A,c}()),function(){var t,e=[];i.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(e.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",t&&clearTimeout(t),t=setTimeout(function(){e=[]},6e4)),this.parentNode.removeChild(this))})}}(),function(a){var u={},r=a.fn.data,c=a.camelCase,h=a.expando="Zepto"+ +new Date,_=[];function o(t,e,n){var i,s,r=t[h]||(t[h]=++a.uuid),o=u[r]||(u[r]=(i=t,s={},a.each(i.attributes||_,function(t,e){0==e.name.indexOf("data-")&&(s[c(e.name.replace("data-",""))]=a.zepto.deserializeValue(e.value))}),s));return void 0!==e&&(o[c(e)]=n),o}a.fn.data=function(e,t){return void 0===t?a.isPlainObject(e)?this.each(function(t,n){a.each(e,function(t,e){o(n,t,e)})}):0 in this?function(t,e){var n=t[h],i=n&&u[n];if(void 0===e)return i||o(t);if(i){if(e in i)return i[e];var s=c(e);if(s in i)return i[s]}return r.call(a(t),e)}(this[0],e):void 0:this.each(function(){o(this,e,t)})},a.data=function(t,e,n){return a(t).data(e,n)},a.hasData=function(t){var e=t[h],n=e&&u[e];return!!n&&!a.isEmptyObject(n)},a.fn.removeData=function(n){return"string"==typeof n&&(n=n.split(/\s+/)),this.each(function(){var t=this[h],e=t&&u[t];e&&a.each(n||e,function(t){delete e[n?c(this):t]})})},["remove","empty"].forEach(function(e){var n=a.fn[e];a.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(i),i)},function(t,e){"use strict";t.exports={element:null}},function(t,e,n){"use strict";var i,s=n(3);function o(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}t.exports={isArray:null,isFunction:null,isObject:null,bind:null,each:null,map:null,mixin:null,isMsie:function(t){if(void 0===t&&(t=navigator.userAgent),/(msie|trident)/i.test(t)){var e=t.match(/(msie |rv:)(\d+(.\d+)?)/i);if(e)return e[2]}return!1},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isNumber:function(t){return"number"==typeof t},toStr:function(t){return null==t?"":t+""},cloneDeep:function(t){var n=this.mixin({},t),i=this;return this.each(n,function(t,e){t&&(i.isArray(t)?n[e]=[].concat(t):i.isObject(t)&&(n[e]=i.cloneDeep(t)))}),n},error:function(t){throw new Error(t)},every:function(n,i){var s=!0;return n?(this.each(n,function(t,e){s=s&&(i.call(null,t,e,n)&&s)}),!!s):s},any:function(n,i){var s=!1;return n&&this.each(n,function(t,e){if(i.call(null,t,e,n))return!(s=!0)}),s},getUniqueId:(i=0,function(){return i++}),templatify:function(t){if(this.isFunction(t))return t;var e=s.element(t);return"SCRIPT"===e.prop("tagName")?function(){return e.text()}:function(){return String(t)}},defer:function(t){setTimeout(t,0)},noop:function(){},formatPrefix:function(t,e){return e?"":t+"-"},className:function(t,e,n){return(n?"":".")+t+e},escapeHighlightedString:function(t,e,n){e=e||"<em>";var i=document.createElement("div");i.appendChild(document.createTextNode(e)),n=n||"</em>";var s=document.createElement("div");s.appendChild(document.createTextNode(n));var r=document.createElement("div");return r.appendChild(document.createTextNode(t)),r.innerHTML.replace(RegExp(o(i.innerHTML),"g"),e).replace(RegExp(o(s.innerHTML),"g"),n)}}},function(t,e,n){"use strict";var o="aaAttrs",a=n(4),u=n(3),r=n(6),c=n(7),i=n(16),h=n(18),_=n(19);function p(t){if((t=t||{}).input||a.error("missing input"),this.isActivated=!1,this.debug=!!t.debug,this.autoselect=!!t.autoselect,this.autoselectOnBlur=!!t.autoselectOnBlur,this.openOnFocus=!!t.openOnFocus,this.minLength=a.isNumber(t.minLength)?t.minLength:1,this.autoWidth=void 0===t.autoWidth||!!t.autoWidth,this.clearOnSelected=!!t.clearOnSelected,this.tabAutocomplete=void 0===t.tabAutocomplete||!!t.tabAutocomplete,t.hint=!!t.hint,t.hint&&t.appendTo)throw new Error("[autocomplete.js] hint and appendTo options can't be used at the same time");this.css=t.css=a.mixin({},_,t.appendTo?_.appendTo:{}),this.cssClasses=t.cssClasses=a.mixin({},_.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix=a.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),this.listboxId=t.listboxId=[this.cssClasses.root,"listbox",a.getUniqueId()].join("-");var e=function(t){var e,n,i,s;e=u.element(t.input),n=u.element(h.wrapper.replace("%ROOT%",t.cssClasses.root)).css(t.css.wrapper),t.appendTo||"block"!==e.css("display")||"table"!==e.parent().css("display")||n.css("display","table-cell");var r=h.dropdown.replace("%PREFIX%",t.cssClasses.prefix).replace("%DROPDOWN_MENU%",t.cssClasses.dropdownMenu);i=u.element(r).css(t.css.dropdown).attr({role:"listbox",id:t.listboxId}),t.templates&&t.templates.dropdownMenu&&i.html(a.templatify(t.templates.dropdownMenu)());(s=e.clone().css(t.css.hint).css(function(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}(e))).val("").addClass(a.className(t.cssClasses.prefix,t.cssClasses.hint,!0)).removeAttr("id name placeholder required").prop("readonly",!0).attr({"aria-hidden":"true",autocomplete:"off",spellcheck:"false",tabindex:-1}),s.removeData&&s.removeData();e.data(o,{"aria-autocomplete":e.attr("aria-autocomplete"),"aria-expanded":e.attr("aria-expanded"),"aria-owns":e.attr("aria-owns"),autocomplete:e.attr("autocomplete"),dir:e.attr("dir"),role:e.attr("role"),spellcheck:e.attr("spellcheck"),style:e.attr("style"),type:e.attr("type")}),e.addClass(a.className(t.cssClasses.prefix,t.cssClasses.input,!0)).attr({autocomplete:"off",spellcheck:!1,role:"combobox","aria-autocomplete":t.datasets&&t.datasets[0]&&t.datasets[0].displayKey?"both":"list","aria-expanded":"false","aria-label":t.ariaLabel,"aria-owns":t.listboxId}).css(t.hint?t.css.input:t.css.inputWithNoHint);try{e.attr("dir")||e.attr("dir","auto")}catch(t){}return(n=t.appendTo?n.appendTo(u.element(t.appendTo).eq(0)).eq(0):e.wrap(n).parent()).prepend(t.hint?s:null).append(i),{wrapper:n,input:e,hint:s,menu:i}}(t);this.$node=e.wrapper;var n=this.$input=e.input,i=e.menu,s=e.hint;t.dropdownMenuContainer&&u.element(t.dropdownMenuContainer).css("position","relative").append(i.css("top","0")),n.on("blur.aa",function(t){var e=document.activeElement;a.isMsie()&&(i[0]===e||i[0].contains(e))&&(t.preventDefault(),t.stopImmediatePropagation(),a.defer(function(){n.focus()}))}),i.on("mousedown.aa",function(t){t.preventDefault()}),this.eventBus=t.eventBus||new r({el:n}),this.dropdown=new p.Dropdown({appendTo:t.appendTo,wrapper:this.$node,menu:i,datasets:t.datasets,templates:t.templates,cssClasses:t.cssClasses,minLength:this.minLength}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onSync("shown",this._onShown,this).onSync("empty",this._onEmpty,this).onSync("redrawn",this._onRedrawn,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new p.Input({input:n,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._bindKeyboardShortcuts(t),this._setLanguageDirection()}a.mixin(p.prototype,{_bindKeyboardShortcuts:function(t){var s,r;t.keyboardShortcuts&&(s=this.$input,r=[],a.each(t.keyboardShortcuts,function(t){"string"==typeof t&&(t=t.toUpperCase().charCodeAt(0)),r.push(t)}),u.element(document).keydown(function(t){var e,n=t.target||t.srcElement,i=n.tagName;n.isContentEditable||"INPUT"===i||"SELECT"===i||"TEXTAREA"===i||(e=t.which||t.keyCode,-1!==r.indexOf(e)&&(s.focus(),t.stopPropagation(),t.preventDefault()))}))},_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n,{selectionMethod:"click"})},_onCursorMoved:function(t,e){var n=this.dropdown.getDatumForCursor(),i=this.dropdown.getCurrentCursor().attr("id");this.input.setActiveDescendant(i),n&&(e&&this.input.setInputValue(n.value,!0),this.eventBus.trigger("cursorchanged",n.raw,n.datasetName))},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint(),this.eventBus.trigger("cursorremoved")},_onDatasetRendered:function(){this._updateHint(),this.eventBus.trigger("updated")},_onOpened:function(){this._updateHint(),this.input.expand(),this.eventBus.trigger("opened")},_onEmpty:function(){this.eventBus.trigger("empty")},_onRedrawn:function(){this.$node.css("top","0px"),this.$node.css("left","0px");var t=this.$input[0].getBoundingClientRect();this.autoWidth&&this.$node.css("width",t.width+"px");var e=this.$node[0].getBoundingClientRect(),n=t.bottom-e.top;this.$node.css("top",n+"px");var i=t.left-e.left;this.$node.css("left",i+"px"),this.eventBus.trigger("redrawn")},_onShown:function(){this.eventBus.trigger("shown"),this.autoselect&&this.dropdown.cursorTopSuggestion()},_onClosed:function(){this.input.clearHint(),this.input.removeActiveDescendant(),this.input.collapse(),this.eventBus.trigger("closed")},_onFocused:function(){var t;this.isActivated=!0,this.openOnFocus&&((t=this.input.getQuery()).length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open())},_onBlurred:function(){var t=this.dropdown.getDatumForCursor(),e=this.dropdown.getDatumForTopSuggestion(),n={selectionMethod:"blur"};this.debug||(this.autoselectOnBlur&&t?this._select(t,n):this.autoselectOnBlur&&e?this._select(e,n):(this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()))},_onEnterKeyed:function(t,e){var n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),s={selectionMethod:"enterKey"};n?(this._select(n,s),e.preventDefault()):this.autoselect&&i&&(this._select(i,s),e.preventDefault())},_onTabKeyed:function(t,e){var n;this.tabAutocomplete?(n=this.dropdown.getDatumForCursor())?(this._select(n,{selectionMethod:"tabKey"}),e.preventDefault()):this._autocomplete(!0):this.dropdown.close()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t=this.input.getLanguageDirection();this.dir!==t&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,e,n,i,s=this.dropdown.getDatumForTopSuggestion();s&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(t=this.input.getInputValue(),e=c.normalizeQuery(t),n=a.escapeRegExChars(e),(i=new RegExp("^(?:"+n+")(.+$)","i").exec(s.value))?this.input.setHint(t+i[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n=this.input.getHint(),i=this.input.getQuery(),s=t||this.input.isCursorAtEnd();n&&i!==n&&s&&((e=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(e.value),this.eventBus.trigger("autocompleted",e.raw,e.datasetName))},_select:function(t,e){void 0!==t.value&&this.input.setQuery(t.value),this.clearOnSelected?this.setVal(""):this.input.setInputValue(t.value,!0),this._setLanguageDirection(),!1===this.eventBus.trigger("selected",t.raw,t.datasetName,e).isDefaultPrevented()&&(this.dropdown.close(),a.defer(a.bind(this.dropdown.empty,this.dropdown)))},open:function(){var t;this.isActivated||((t=this.input.getInputValue()).length>=this.minLength?this.dropdown.update(t):this.dropdown.empty()),this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=a.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),function(t,e){var n=t.find(a.className(e.prefix,e.input));a.each(n.data(o),function(t,e){void 0===t?n.removeAttr(e):n.attr(e,t)}),n.detach().removeClass(a.className(e.prefix,e.input,!0)).insertAfter(t),n.removeData&&n.removeData(o);t.remove()}(this.$node,this.cssClasses),this.$node=null},getWrapper:function(){return this.dropdown.$container[0]}}),p.Dropdown=i,p.Input=c,p.sources=n(20),t.exports=p},function(t,e,n){"use strict";var r=n(4),i=n(3);function s(t){t&&t.el||r.error("EventBus initialized without el"),this.$el=i.element(t.el)}r.mixin(s.prototype,{trigger:function(t,e,n,i){var s=r.Event("autocomplete:"+t);return this.$el.trigger(s,[e,n,i]),s}}),t.exports=s},function(t,e,n){"use strict";var a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},u=n(4),c=n(3),i=n(8);function r(t){var e,n,i,s,r,o=this;(t=t||{}).input||u.error("input is missing"),e=u.bind(this._onBlur,this),n=u.bind(this._onFocus,this),i=u.bind(this._onKeydown,this),s=u.bind(this._onInput,this),this.$hint=c.element(t.hint),this.$input=c.element(t.input).on("blur.aa",e).on("focus.aa",n).on("keydown.aa",i),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=u.noop),u.isMsie()?this.$input.on("keydown.aa keypress.aa cut.aa paste.aa",function(t){a[t.which||t.keyCode]||u.defer(u.bind(o._onInput,o,t))}):this.$input.on("input.aa",s),this.query=this.$input.val(),this.$overflowHelper=(r=this.$input,c.element('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:r.css("font-family"),fontSize:r.css("font-size"),fontStyle:r.css("font-style"),fontVariant:r.css("font-variant"),fontWeight:r.css("font-weight"),wordSpacing:r.css("word-spacing"),letterSpacing:r.css("letter-spacing"),textIndent:r.css("text-indent"),textRendering:r.css("text-rendering"),textTransform:r.css("text-transform")}).insertAfter(r))}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}r.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},u.mixin(r.prototype,i,{_onBlur:function(){this.resetInputValue(),this.$input.removeAttr("aria-activedescendant"),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,s;switch(t){case"tab":i=this.getHint(),s=this.getInputValue(),n=i&&i!==s&&!o(e);break;case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n,i,s=this.getInputValue();n=s,i=this.query,e=!(!(t=r.normalizeQuery(n)===r.normalizeQuery(i))||!this.query)&&this.query.length!==s.length,this.query=s,t?e&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){void 0===t&&(t=this.query),this.$input.val(t),e?this.clearHint():this._checkInputValue()},expand:function(){this.$input.attr("aria-expanded","true")},collapse:function(){this.$input.attr("aria-expanded","false")},setActiveDescendant:function(t){this.$input.attr("aria-activedescendant",t)},removeActiveDescendant:function(){this.$input.removeAttr("aria-activedescendant")},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t);""!==t&&n&&!this.hasOverflow()||this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e=this.$input.val().length,n=this.$input[0].selectionStart;return u.isNumber(n)?n===e:!document.selection||((t=document.selection.createRange()).moveStart("character",-e),e===t.text.length)},destroy:function(){this.$hint.off(".aa"),this.$input.off(".aa"),this.$hint=this.$input=this.$overflowHelper=null}}),t.exports=r},function(t,e,n){"use strict";var o=n(9),a=/\s+/;function i(t,e,n,i){var s,r,o;if(!n)return this;for(e=e.split(a),n=i?(o=i,(r=n).bind?r.bind(o):function(){r.apply(o,[].slice.call(arguments,0))}):n,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(n);return this}function u(i,s,r){return function(){for(var t,e=0,n=i.length;!t&&e<n;e+=1)t=!1===i[e].apply(s,r);return!t}}t.exports={onSync:function(t,e,n){return i.call(this,"sync",t,e,n)},onAsync:function(t,e,n){return i.call(this,"async",t,e,n)},off:function(t){var e;if(!this._callbacks)return this;t=t.split(a);for(;e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var e,n,i,s,r;if(!this._callbacks)return this;t=t.split(a),i=[].slice.call(arguments,1);for(;(e=t.shift())&&(n=this._callbacks[e]);)s=u(n.sync,this,[e].concat(i)),r=u(n.async,this,[e].concat(i)),s()&&o(r);return this}}},function(t,e,n){"use strict";var i,s,r,o=[n(10),n(12),n(13),n(14),n(15)],a=-1,u=[],c=!1;function h(){i&&s&&(i=!1,s.length?u=s.concat(u):a=-1,u.length&&_())}function _(){if(!i){i=!(c=!1);for(var t=u.length,e=setTimeout(h);t;){for(s=u,u=[];s&&++a<t;)s[a].run();a=-1,t=u.length}s=null,i=!(a=-1),clearTimeout(e)}}for(var p=-1,l=o.length;++p<l;)if(o[p]&&o[p].test&&o[p].test()){r=o[p].install(_);break}function d(t,e){this.fun=t,this.array=e}d.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}},t.exports=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),c||i||(c=!0,r())}},function(t,n,e){(function(e){"use strict";n.test=function(){return void 0!==e&&!e.browser},n.install=function(t){return function(){e.nextTick(t)}}}).call(n,e(11))},function(t,e){var n,i,s=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var u,c=[],h=!1,_=-1;function p(){h&&u&&(h=!1,u.length?c=u.concat(c):_=-1,c.length&&l())}function l(){if(!h){var t=a(p);h=!0;for(var e=c.length;e;){for(u=c,c=[];++_<e;)u&&u[_].run();_=-1,e=c.length}u=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function f(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||h||a(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e){(function(s){"use strict";var r=s.MutationObserver||s.WebKitMutationObserver;e.test=function(){return r},e.install=function(t){var e=0,n=new r(t),i=s.document.createTextNode("");return n.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}}).call(e,function(){return this}())},function(t,e){(function(n){"use strict";e.test=function(){return!n.setImmediate&&void 0!==n.MessageChannel},e.install=function(t){var e=new n.MessageChannel;return e.port1.onmessage=t,function(){e.port2.postMessage(0)}}}).call(e,function(){return this}())},function(t,e){(function(n){"use strict";e.test=function(){return"document"in n&&"onreadystatechange"in n.document.createElement("script")},e.install=function(e){return function(){var t=n.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},n.document.documentElement.appendChild(t),e}}}).call(e,function(){return this}())},function(t,e){"use strict";e.test=function(){return!0},e.install=function(t){return function(){setTimeout(t,0)}}},function(t,e,n){"use strict";var a=n(4),u=n(3),i=n(8),s=n(17),c=n(19);function h(s){var t,e,n,r=this;(s=s||{}).menu||a.error("menu is required"),a.isArray(s.datasets)||a.isObject(s.datasets)||a.error("1 or more datasets required"),s.datasets||a.error("datasets is required"),this.isOpen=!1,this.isEmpty=!0,this.minLength=s.minLength||0,this.templates={},this.appendTo=s.appendTo||!1,this.css=a.mixin({},c,s.appendTo?c.appendTo:{}),this.cssClasses=s.cssClasses=a.mixin({},c.defaultClasses,s.cssClasses||{}),this.cssClasses.prefix=s.cssClasses.formattedPrefix||a.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),t=a.bind(this._onSuggestionClick,this),e=a.bind(this._onSuggestionMouseEnter,this),n=a.bind(this._onSuggestionMouseLeave,this);var i=a.className(this.cssClasses.prefix,this.cssClasses.suggestion);this.$menu=u.element(s.menu).on("mouseenter.aa",i,e).on("mouseleave.aa",i,n).on("click.aa",i,t),this.$container=s.appendTo?s.wrapper:this.$menu,s.templates&&s.templates.header&&(this.templates.header=a.templatify(s.templates.header),this.$menu.prepend(this.templates.header())),s.templates&&s.templates.empty&&(this.templates.empty=a.templatify(s.templates.empty),this.$empty=u.element('<div class="'+a.className(this.cssClasses.prefix,this.cssClasses.empty,!0)+'"></div>'),this.$menu.append(this.$empty),this.$empty.hide()),this.datasets=a.map(s.datasets,function(t){return e=r.$menu,n=t,i=s.cssClasses,new h.Dataset(a.mixin({$menu:e,cssClasses:i},n));var e,n,i}),a.each(this.datasets,function(t){var e=t.getRoot();e&&0===e.parent().length&&r.$menu.append(e),t.onSync("rendered",r._onRendered,r)}),s.templates&&s.templates.footer&&(this.templates.footer=a.templatify(s.templates.footer),this.$menu.append(this.templates.footer()));var o=this;u.element(window).resize(function(){o._redraw()})}a.mixin(h.prototype,i,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",u.element(t.currentTarget))},_onSuggestionMouseEnter:function(t){var e,n=u.element(t.currentTarget);n.hasClass(a.className(this.cssClasses.prefix,this.cssClasses.cursor,!0))||(this._removeCursor(),e=this,setTimeout(function(){e._setCursor(n,!1)},0))},_onSuggestionMouseLeave:function(t){if(t.relatedTarget&&0<u.element(t.relatedTarget).closest("."+a.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).length)return;this._removeCursor(),this.trigger("cursorRemoved")},_onRendered:function(t,e){var n;this.isEmpty=a.every(this.datasets,function(t){return t.isEmpty()}),this.isEmpty?(e.length>=this.minLength&&this.trigger("empty"),this.$empty?e.length<this.minLength?this._hide():(n=this.templates.empty({query:this.datasets[0]&&this.datasets[0].query}),this.$empty.html(n),this.$empty.show(),this._show()):!a.any(this.datasets,function(t){return t.templates&&t.templates.empty})||e.length<this.minLength?this._hide():this._show()):this.isOpen&&(this.$empty&&(this.$empty.empty(),this.$empty.hide()),e.length>=this.minLength?this._show():this._hide()),this.trigger("datasetRendered")},_hide:function(){this.$container.hide()},_show:function(){this.$container.css("display","block"),this._redraw(),this.trigger("shown")},_redraw:function(){this.isOpen&&this.appendTo&&this.trigger("redrawn")},_getSuggestions:function(){return this.$menu.find(a.className(this.cssClasses.prefix,this.cssClasses.suggestion))},_getCursor:function(){return this.$menu.find(a.className(this.cssClasses.prefix,this.cssClasses.cursor)).first()},_setCursor:function(t,e){t.first().addClass(a.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).attr("aria-selected","true"),this.trigger("cursorMoved",e)},_removeCursor:function(){this._getCursor().removeClass(a.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).removeAttr("aria-selected")},_moveCursor:function(t){var e,n,i,s;this.isOpen&&(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1!==(i=((i=e.index(n)+t)+1)%(e.length+1)-1)?(i<-1&&(i=e.length-1),this._setCursor(s=e.eq(i),!0),this._ensureVisible(s)):this.trigger("cursorRemoved"))},_ensureVisible:function(t){var e=t.position().top,n=e+t.height()+parseInt(t.css("margin-top"),10)+parseInt(t.css("margin-bottom"),10),i=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("padding-top"),10)+parseInt(this.$menu.css("padding-bottom"),10);e<0?this.$menu.scrollTop(i+e):s<n&&this.$menu.scrollTop(i+(n-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?this.css.ltr:this.css.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:s.extractDatum(t),value:s.extractValue(t),datasetName:s.extractDatasetName(t)}),e},getCurrentCursor:function(){return this._getCursor().first()},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},cursorTopSuggestion:function(){this._setCursor(this._getSuggestions().first(),!1)},update:function(e){a.each(this.datasets,function(t){t.update(e)})},empty:function(){a.each(this.datasets,function(t){t.clear()}),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off(".aa"),this.$menu=null,a.each(this.datasets,function(t){t.destroy()})}}),h.Dataset=s,t.exports=h},function(t,e,n){"use strict";var a="aaDataset",u="aaValue",c="aaDatum",h=n(4),_=n(3),p=n(18),r=n(19),i=n(8);function s(t){var e,n,i;(t=t||{}).templates=t.templates||{},t.source||h.error("missing source"),t.name&&!/^[_a-zA-Z0-9-]+$/.test(t.name)&&h.error("invalid dataset name: "+t.name),this.query=null,this._isEmpty=!0,this.highlight=!!t.highlight,this.name=void 0===t.name||null===t.name?h.getUniqueId():t.name,this.source=t.source,this.displayFn=(e=(e=t.display||t.displayKey)||"value",h.isFunction(e)?e:function(t){return t[e]}),this.debounce=t.debounce,this.cache=!1!==t.cache,this.templates=(n=t.templates,i=this.displayFn,{empty:n.empty&&h.templatify(n.empty),header:n.header&&h.templatify(n.header),footer:n.footer&&h.templatify(n.footer),suggestion:n.suggestion||function(t){return"<p>"+i(t)+"</p>"}}),this.css=h.mixin({},r,t.appendTo?r.appendTo:{}),this.cssClasses=t.cssClasses=h.mixin({},r.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix||h.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);var s=h.className(this.cssClasses.prefix,this.cssClasses.dataset);this.$el=t.$menu&&0<t.$menu.find(s+"-"+this.name).length?_.element(t.$menu.find(s+"-"+this.name)[0]):_.element(p.dataset.replace("%CLASS%",this.name).replace("%PREFIX%",this.cssClasses.prefix).replace("%DATASET%",this.cssClasses.dataset)),this.$menu=t.$menu,this.clearCachedSuggestions()}s.extractDatasetName=function(t){return _.element(t).data(a)},s.extractValue=function(t){return _.element(t).data(u)},s.extractDatum=function(t){var e=_.element(t).data(c);return"string"==typeof e&&(e=JSON.parse(e)),e},h.mixin(s.prototype,i,{_render:function(e,r){if(this.$el){var n,o=this,t=[].slice.call(arguments,2);if(this.$el.empty(),n=r&&r.length,this._isEmpty=!n,!n&&this.templates.empty)this.$el.html(function(){var t=[].slice.call(arguments,0);return t=[{query:e,isEmpty:!0}].concat(t),o.templates.empty.apply(this,t)}.apply(this,t)).prepend(o.templates.header?i.apply(this,t):null).append(o.templates.footer?s.apply(this,t):null);else if(n)this.$el.html(function(){var t,e,i=[].slice.call(arguments,0),s=this,n=p.suggestions.replace("%PREFIX%",this.cssClasses.prefix).replace("%SUGGESTIONS%",this.cssClasses.suggestions);return t=_.element(n).css(this.css.suggestions),e=h.map(r,function(t){var e,n=p.suggestion.replace("%PREFIX%",s.cssClasses.prefix).replace("%SUGGESTION%",s.cssClasses.suggestion);return(e=_.element(n).attr({role:"option",id:["option",Math.floor(1e8*Math.random())].join("-")}).append(o.templates.suggestion.apply(this,[t].concat(i)))).data(a,o.name),e.data(u,o.displayFn(t)||void 0),e.data(c,JSON.stringify(t)),e.children().each(function(){_.element(this).css(s.css.suggestionChild)}),e}),t.append.apply(t,e),t}.apply(this,t)).prepend(o.templates.header?i.apply(this,t):null).append(o.templates.footer?s.apply(this,t):null);else if(r&&!Array.isArray(r))throw new TypeError("suggestions must be an array");this.$menu&&this.$menu.addClass(this.cssClasses.prefix+(n?"with":"without")+"-"+this.name).removeClass(this.cssClasses.prefix+(n?"without":"with")+"-"+this.name),this.trigger("rendered",e)}function i(){var t=[].slice.call(arguments,0),t=[{query:e,isEmpty:!n}].concat(t);return o.templates.header.apply(this,t)}function s(){var t=[].slice.call(arguments,0),t=[{query:e,isEmpty:!n}].concat(t);return o.templates.footer.apply(this,t)}},getRoot:function(){return this.$el},update:function(n){function t(t){var e;this.canceled||n!==this.query||(e=[].slice.call(arguments,1),this.cacheSuggestions(n,t,e),this._render.apply(this,[n,t].concat(e)))}var e,i;this.query=n,this.canceled=!1,this.shouldFetchFromCache(n)?t.apply(this,[this.cachedSuggestions].concat(this.cachedRenderExtraArgs)):(i=function(){e.canceled||e.source(n,t.bind(e))},(e=this).debounce?(clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(function(){e.debounceTimeout=null,i()},this.debounce)):i())},cacheSuggestions:function(t,e,n){this.cachedQuery=t,this.cachedSuggestions=e,this.cachedRenderExtraArgs=n},shouldFetchFromCache:function(t){return this.cache&&this.cachedQuery===t&&this.cachedSuggestions&&this.cachedSuggestions.length},clearCachedSuggestions:function(){delete this.cachedQuery,delete this.cachedSuggestions,delete this.cachedRenderExtraArgs},cancel:function(){this.canceled=!0},clear:function(){this.$el&&(this.cancel(),this.$el.empty(),this.trigger("rendered",""))},isEmpty:function(){return this._isEmpty},destroy:function(){this.clearCachedSuggestions(),this.$el=null}}),t.exports=s},function(t,e){"use strict";t.exports={wrapper:'<span class="%ROOT%"></span>',dropdown:'<span class="%PREFIX%%DROPDOWN_MENU%"></span>',dataset:'<div class="%PREFIX%%DATASET%-%CLASS%"></div>',suggestions:'<span class="%PREFIX%%SUGGESTIONS%"></span>',suggestion:'<div class="%PREFIX%%SUGGESTION%"></div>'}},function(t,e,n){"use strict";var i=n(4),s={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:"0"},defaultClasses:{root:"algolia-autocomplete",prefix:"aa",noPrefix:!1,dropdownMenu:"dropdown-menu",input:"input",hint:"hint",suggestions:"suggestions",suggestion:"suggestion",cursor:"cursor",dataset:"dataset",empty:"empty"},appendTo:{wrapper:{position:"absolute",zIndex:"100",display:"none"},input:{},inputWithNoHint:{},dropdown:{display:"block"}}};i.isMsie()&&i.mixin(s.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),i.isMsie()&&i.isMsie()<=7&&i.mixin(s.input,{marginTop:"-1px"}),t.exports=s},function(t,e,n){"use strict";t.exports={hits:n(21),popularIn:n(24)}},function(t,e,n){"use strict";var s=n(4),r=n(22),o=n(23);t.exports=function(e,i){var t=o(e.as._ua);return t&&3<=t[0]&&20<t[1]&&((i=i||{}).additionalUA="autocomplete.js "+r),function(t,n){e.search(t,i,function(t,e){t?s.error(t.message):n(e.hits,e)})}}},function(t,e){t.exports="0.37.1"},function(t,e){"use strict";t.exports=function(t){var e=t.match(/Algolia for JavaScript \((\d+\.)(\d+\.)(\d+)\)/)||t.match(/Algolia for vanilla JavaScript (\d+\.)(\d+\.)(\d+)/);if(e)return[e[1],e[2],e[3]]}},function(t,e,n){"use strict";var _=n(4),p=n(22),l=n(23);t.exports=function(e,i,s,u){var t=l(e.as._ua);if(t&&3<=t[0]&&20<t[1]&&((i=i||{}).additionalUA="autocomplete.js "+p),!s.source)return _.error("Missing 'source' key");var c=_.isFunction(s.source)?s.source:function(t){return t[s.source]};if(!s.index)return _.error("Missing 'index' key");var h=s.index;return u=u||{},function(t,a){e.search(t,i,function(t,r){if(t)_.error(t.message);else{if(0<r.hits.length){var o=r.hits[0],e=_.mixin({hitsPerPage:0},s);delete e.source,delete e.index;var n=l(h.as._ua);return n&&3<=n[0]&&20<n[1]&&(i.additionalUA="autocomplete.js "+p),void h.search(c(o),e,function(t,e){if(t)_.error(t.message);else{var n,i=[];u.includeAll&&(n=u.allTitle||"All departments",i.push(_.mixin({facet:{value:n,count:e.nbHits}},_.cloneDeep(o)))),_.each(e.facets,function(t,n){_.each(t,function(t,e){i.push(_.mixin({facet:{facet:n,value:e,count:t}},_.cloneDeep(o)))})});for(var s=1;s<r.hits.length;++s)i.push(r.hits[s]);a(i,r)}})}a([])}})}}}],n.c=s,n.p="",n(0);function n(t){if(s[t])return s[t].exports;var e=s[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var i,s}),function(){var n,i;function s(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}var r,o,a=(i={},s.m=n=[,,function(t,e,n){"use strict";function s(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",0<t.indent_level&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function r(t,e){this.__indent_cache=new i(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new s(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}s.prototype.clone_empty=function(){var t=new s(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},s.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},s.prototype.has_match=function(t){for(var e=this.__items.length-1;0<=e;e--)if(this.__items[e].match(t))return!0;return!1},s.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},s.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},s.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},s.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),--t.__character_count),!0}return!1},s.prototype.is_empty=function(){return 0===this.__items.length},s.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},s.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},s.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},s.prototype._remove_indent=function(){0<this.__indent_count&&(--this.__indent_count,this.__character_count-=this.__parent.indent_size)},s.prototype._remove_wrap_indent=function(){0<this.__wrap_point_indent_count&&--this.__wrap_point_indent_count},s.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),--this.__character_count},s.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},i.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e},i.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e]},i.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var t,e=this.__cache.length,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},r.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),1<this.__lines.length?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&1<this.__lines.length&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=1<this.__lines.length?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;0<=n;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==e){this.__lines.splice(n+1,0,new s(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.Output=r},function(t,e,n){"use strict";t.exports.Token=function(t,e,n,i){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(t,e,n){"use strict";function i(t,e){this.raw_options=s(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function s(t,e){var n,i={};for(n in t=r(t))n!==e&&(i[n]=t[n]);if(e&&t[e])for(n in t[e])i[n]=t[e][n];return i}function r(t){var e,n={};for(e in t){n[e.replace(/-/g,"_")]=t[e]}return n}i.prototype._get_array=function(t,e){var n=this.raw_options[t],i=e||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(i=n.concat()):"string"==typeof n&&(i=n.split(/[^a-zA-Z0-9_\/\-]+/)),i},i.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},i.prototype._get_characters=function(t,e){var n=this.raw_options[t],i=e||"";return"string"==typeof n&&(i=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),i},i.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var i=parseInt(n,10);return isNaN(i)&&(i=e),i},i.prototype._get_selection=function(t,e,n){var i=this._get_selection_list(t,e,n);if(1!==i.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return i[0]},i.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var i=this._get_array(t,n);if(!this._is_valid_selection(i,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return i},i.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(t){return-1===e.indexOf(t)})},t.exports.Options=i,t.exports.normalizeOpts=r,t.exports.mergeOpts=s},,function(t,e,n){"use strict";var s=RegExp.prototype.hasOwnProperty("sticky");function i(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){0<this.__position&&--this.__position},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,0<=(t+=this.__position)&&t<this.__input_length&&(e=this.__input.charAt(t)),e},i.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return!n||s&&t.sticky||n.index!==e&&(n=null),n},i.prototype.test=function(t,e){return e=e||0,0<=(e+=this.__position)&&e<this.__input_length&&!!this.__match(t,e)},i.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},i.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},i.prototype.read=function(t,e,n){var i,s="";return t&&(i=this.match(t))&&(s+=i[0]),!e||!i&&t||(s+=this.readUntil(e,n)),s},i.prototype.readUntil=function(t,e){var n,i=this.__position;t.lastIndex=this.__position;var s=t.exec(this.__input);return s?(i=s.index,e&&(i+=s[0].length)):i=this.__input_length,n=this.__input.substring(this.__position,i),this.__position=i,n},i.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},i.prototype.get_regexp=function(t,e){var n=null,i=e&&s?"y":"g";return"string"==typeof t&&""!==t?n=new RegExp(t,i):t&&(n=new RegExp(t.source,i)),n},i.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},i.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=i},function(t,e,n){"use strict";function i(t,e){this._input=new s(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new a(this._input)}var s=n(8).InputScanner,r=n(3).Token,o=n(10).TokenStream,a=n(11).WhitespacePattern,u={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"};i.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new o,this._reset();for(var e=new r(u.START,""),n=null,i=[],s=new o;e.type!==u.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)s.add(t),t=this._get_next_token(e,n);s.isEmpty()||(t.comments_before=s,s=new o),t.parent=n,this._is_opening(t)?(i.push(n),n=t):n&&this._is_closing(t,n)&&((t.opened=n).closed=t,n=i.pop(),t.parent=n),(t.previous=e).next=t,this.__tokens.add(t),e=t}return this.__tokens},i.prototype._is_first_token=function(){return this.__tokens.isEmpty()},i.prototype._reset=function(){},i.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(u.RAW,n):this._create_token(u.EOF,"")},i.prototype._is_comment=function(t){return!1},i.prototype._is_opening=function(t){return!1},i.prototype._is_closing=function(t,e){return!1},i.prototype._create_token=function(t,e){return new r(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},i.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=i,t.exports.TOKEN=u},function(t,e,n){"use strict";function i(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}i.prototype.restart=function(){this.__position=0},i.prototype.isEmpty=function(){return 0===this.__tokens_length},i.prototype.hasNext=function(){return this.__position<this.__tokens_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,0<=(t+=this.__position)&&t<this.__tokens_length&&(e=this.__tokens[t]),e},i.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=i},function(t,e,n){"use strict";var i=n(12).Pattern;function s(t,e){i.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}(s.prototype=new i).__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},s.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t,e=this._input.read(this._match_pattern);return" "===e?this.whitespace_before_token=" ":e&&(t=this.__split(this._newline_regexp,e),this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]),e},s.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},s.prototype._create=function(){return new s(this._input,this)},s.prototype.__split=function(t,e){for(var n=t.lastIndex=0,i=[],s=t.exec(e);s;)i.push(e.substring(n,s.index)),n=s.index+s[0].length,s=t.exec(e);return n<e.length?i.push(e.substring(n,e.length)):i.push(""),i},t.exports.WhitespacePattern=s},function(t,e,n){"use strict";function i(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}i.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},i.prototype.read_match=function(){return this._input.match(this._match_pattern)},i.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},i.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},i.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},i.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},i.prototype._create=function(){return new i(this._input,this)},i.prototype._update=function(){},t.exports.Pattern=i},function(t,e,n){"use strict";function i(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}i.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},i.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=i},function(t,e,n){"use strict";var i=n(12).Pattern,s={django:!1,erb:!1,handlebars:!1,php:!1};function r(t,e){i.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},s),this._excluded=Object.assign({},s),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new i(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/)}}(r.prototype=new i)._create=function(){return new r(this._input,this)},r.prototype._update=function(){this.__set_templated_pattern()},r.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},r.prototype.read_options=function(t){var e=this._create();for(var n in s)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},r.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},r.prototype.read=function(){for(var t="",t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},r.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},r.prototype._read_template=function(){var t,e="",n=this._input.peek();return"<"===n?(t=this._input.peek(1),this._disabled.php||this._excluded.php||"?"!==t||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==t||(e=e||this.__patterns.erb.read())):"{"===n&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read()))),e},t.exports.TemplatablePattern=r},,,,function(t,e,n){"use strict";var s=n(19).Beautifier,i=n(20).Options;t.exports=function(t,e,n,i){return new s(t,e,n,i).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){"use strict";function c(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new i(t,e)}var r=n(20).Options,i=n(2).Output,h=n(21).Tokenizer,_=n(21).TOKEN,p=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g;c.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},c.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e},c.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},c.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},c.prototype.print_preserved_newlines=function(t){var e=0;t.type!==_.TEXT&&t.previous.type!==_.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(0<n);return 0!==e},c.prototype.traverse_whitespace=function(t){return!(!t.whitespace_before&&!t.newlines)&&(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0)},c.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},c.prototype.print_newline=function(t){this._output.add_new_line(t)},c.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))},c.prototype.indent=function(){this.indent_level++},c.prototype.get_full_indent=function(t){return(t=this.indent_level+(t||0))<1?"":this._output.get_indent_string(t)};function o(t,e){var n=null,i=null;return e.closed?("script"===t?n="text/javascript":"style"===t&&(n="text/css"),-1<(n=function(t){for(var e=null,n=t.next;n.type!==_.EOF&&t.closed!==n;){if(n.type===_.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===_.EQUALS&&n.next.next&&n.next.next.type===_.VALUE&&(e=n.next.next.text);break}n=n.next}return e}(e)||n).search("text/css")?i="css":-1<n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)?i="javascript":-1<n.search(/(text|application|dojo)\/(x-)?(html)/)?i="html":-1<n.search(/test\/null/)&&(i="null"),i):null}function a(t,e){return-1!==e.indexOf(t)}function s(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function d(t){this._printer=t,this._current_frame=null}function f(t,e,n,i){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=i,this._tag_stack=null;var s=new r(e,"html");this._options=s,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}d.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},d.prototype.record_tag=function(t){var e=new s(this._current_frame,t,this._printer.indent_level);this._current_frame=e},d.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},d.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&-1===t.indexOf(n.tag);){if(e&&-1!==e.indexOf(n.tag)){n=null;break}n=n.parent}return n},d.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)},d.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&p.test(t)&&(e=t.match(p)[0]));var n=(t=t.replace(l,"\n")).match(/^[\t ]*/)[0],i={text:"",type:""},s=new g,r=new c(this._options,n),o=new h(t,this._options).tokenize();this._tag_stack=new d(r);for(var a=null,u=o.next();u.type!==_.EOF;)u.type===_.TAG_OPEN||u.type===_.COMMENT?s=a=this._handle_tag_open(r,u,s,i):u.type===_.ATTRIBUTE||u.type===_.EQUALS||u.type===_.VALUE||u.type===_.TEXT&&!s.tag_complete?a=this._handle_inside_tag(r,u,s,o):u.type===_.TAG_CLOSE?a=this._handle_tag_close(r,u,s):u.type===_.TEXT?a=this._handle_text(r,u,s):r.add_raw_token(u),i=a,u=o.next();return r._output.get_code(e)},f.prototype._handle_tag_close=function(t,e,n){var i={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted?t.add_raw_token(e):("<"===n.tag_start_char&&(t.set_space_before_token("/"===e.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(t.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||t.set_wrap_point(),i},f.prototype._handle_inside_tag=function(t,e,n,i){var s=n.has_wrapped_attrs,r={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted)t.add_raw_token(e);else if("{"===n.tag_start_char&&e.type===_.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===_.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===_.EQUALS||e.type===_.VALUE&&e.previous.type===_.EQUALS)&&t.set_space_before_token(!1),e.type===_.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),s=s||0!==e.newlines),this._is_wrap_attributes_force)){var o=1<n.attr_count;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var a,u=!0,c=0;do{if((a=i.peek(c)).type===_.ATTRIBUTE){u=!1;break}c+=1}while(c<4&&a.type!==_.EOF&&a.type!==_.TAG_CLOSE);o=!u}o&&(t.print_newline(!1),s=!0)}t.print_token(e),s=s||t.previous_token_wrapped(),n.has_wrapped_attrs=s}return r},f.prototype._handle_text=function(t,e,n){var i={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),i},f.prototype._print_custom_beatifier_text=function(t,e,n){var i=this;if(""!==e.text){var s,r=e.text,o=1,a="",u="";"javascript"===n.custom_beautifier_name&&"function"==typeof this._js_beautify?s=this._js_beautify:"css"===n.custom_beautifier_name&&"function"==typeof this._css_beautify?s=this._css_beautify:"html"===n.custom_beautifier_name&&(s=function(t,e){return new f(t,e,i._js_beautify,i._css_beautify).beautify()}),"keep"===this._options.indent_scripts?o=0:"separate"===this._options.indent_scripts&&(o=-t.indent_level);var c,h,_=t.get_full_indent(o);if(r=r.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===r[0]&&r.match(/^(<!--|<!\[CDATA\[)/)){var p=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(r);if(!p)return void t.add_raw_token(e);a=_+p[1]+"\n",r=p[4],p[5]&&(u=_+p[5]),r=r.replace(/\n[ \t]*$/,""),(p[2]||-1!==p[3].indexOf("\n"))&&(p=p[3].match(/[ \t]+$/))&&(e.whitespace_before=p[0])}r=r&&(s?((c=function(){this.eol="\n"}).prototype=this._options.raw_options,s(_+r,new c)):((h=e.whitespace_before)&&(r=r.replace(new RegExp("\n("+h+")?","g"),"\n")),_+r.replace(/\n/g,"\n"+_))),a&&(r=r?a+r+"\n"+u:a+u),t.print_newline(!1),r&&(e.text=r,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}},f.prototype._handle_tag_open=function(t,e,n,i){var s=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&e.type===_.TAG_OPEN&&0===e.text.indexOf("</")?(t.add_raw_token(e),s.start_tag_token=this._tag_stack.try_pop(s.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,s,n,i),s.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(s.alignment_size=e.text.length+1),s.tag_complete||s.is_unformatted||(t.alignment_size=s.alignment_size),s};var g=function(t,e){var n;this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",e?(this.tag_start_char=e.text[0],this.text=e.text,"<"===this.tag_start_char?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"","{{#>"===e.text&&">"===this.tag_check&&null!==e.next&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===_.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&"/>"===e.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};f.prototype._get_tag_open_token=function(t){var e=new g(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||a(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&a(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&a(e.tag_check,this._options.content_unformatted),e.is_inline_element=a(e.tag_name,this._options.inline)||"{"===e.tag_start_char,e},f.prototype._set_tag_position=function(t,e,n,i,s){n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||(n.parent&&(n.parent.multiline_content=!0),t.print_newline(!1))),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=o(n.tag_check,e)))),a(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element?("{"===n.tag_start_char&&"else"===n.tag_check&&(this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0,t.current_line_has_match(/{{#if/)||t.print_newline(!1)),"!--"===n.tag_name&&s.type===_.TAG_CLOSE&&i.is_end_tag&&-1===n.text.indexOf("\n")||n.is_inline_element||n.is_unformatted||t.print_newline(!1)):n.is_unformatted||n.is_content_unformatted?n.is_inline_element||n.is_unformatted||t.print_newline(!1):n.is_end_tag?(n.start_tag_token&&n.start_tag_token.multiline_content||!(n.is_inline_element||i.is_inline_element||s.type===_.TAG_CLOSE&&n.start_tag_token===i||"TK_CONTENT"===s.type))&&t.print_newline(!1):(n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||"TK_CONTENT"===s.type||(n.parent&&(n.parent.multiline_content=!0),t.print_newline(!1)))};var u=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],m=["a","audio","del","ins","map","noscript","video"];f.prototype._do_optional_end_element=function(t){var e,n=null;if(!t.is_empty_element&&t.is_start_tag&&t.parent)return"body"===t.tag_name?n=n||this._tag_stack.try_pop("head"):"li"===t.tag_name?n=n||this._tag_stack.try_pop("li",["ol","ul"]):"dd"===t.tag_name||"dt"===t.tag_name?n=(n=n||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):"p"===t.parent.tag_name&&-1!==u.indexOf(t.tag_name)?(e=t.parent.parent)&&-1!==m.indexOf(e.tag_name)||(n=n||this._tag_stack.try_pop("p")):"rp"===t.tag_name||"rt"===t.tag_name?n=(n=n||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===t.tag_name?n=n||this._tag_stack.try_pop("optgroup",["select"]):"option"===t.tag_name?n=n||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===t.tag_name?n=n||this._tag_stack.try_pop("caption",["table"]):"thead"===t.tag_name?n=(n=n||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===t.tag_name||"tfoot"===t.tag_name?n=(n=(n=(n=n||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===t.tag_name?n=(n=(n=n||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==t.tag_name&&"td"!==t.tag_name||(n=(n=n||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),t.parent=this._tag_stack.get_parser_token(),n},t.exports.Beautifier=f},function(t,e,n){"use strict";var i=n(6).Options;function s(t){i.call(this,t,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}s.prototype=new i,t.exports.Options=s},function(t,e,n){"use strict";function i(t,e){r.call(this,t,e),this._current_tag_name="";var n,i=new a(this._input).read_options(this._options),s=new u(this._input);this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:s.starting_with(/{{!--/).until_after(/--}}/),handlebars:s.starting_with(/{{/).until_after(/}}/),handlebars_open:s.until(/[\n\r\t }]/),handlebars_raw_close:s.until(/}}/),comment:s.starting_with(/<!--/).until_after(/-->/),cdata:s.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:s.starting_with(/<!\[/).until_after(/]>/),processing:s.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter&&(n=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=s.matching(n).until_after(n))}var r=n(9).Tokenizer,s=n(9).TOKEN,o=n(13).Directives,a=n(14).TemplatablePattern,u=n(12).Pattern,c={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:s.START,RAW:s.RAW,EOF:s.EOF},h=new o(/<\!--/,/-->/);(i.prototype=new r)._is_comment=function(t){return!1},i.prototype._is_opening=function(t){return t.type===c.TAG_OPEN},i.prototype._is_closing=function(t,e){return t.type===c.TAG_CLOSE&&e&&((">"===t.text||"/>"===t.text)&&"<"===e.text[0]||"}}"===t.text&&"{"===e.text[0]&&"{"===e.text[1])},i.prototype._reset=function(){this._current_tag_name=""},i.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(c.EOF,""):this._read_open_handlebars(n,e)||this._read_attribute(n,t,e)||this._read_raw_content(n,t,e)||this._read_close(n,e)||this._read_content_word(n)||this._read_comment_or_cdata(n)||this._read_processing(n)||this._read_open(n,e)||this._create_token(c.UNKNOWN,this._input.next())},i.prototype._read_comment_or_cdata=function(t){var e=null,n=null,i=null;return"<"===t&&("!"===this._input.peek(1)&&((n=this.__patterns.comment.read())?(i=h.get_directives(n))&&"start"===i.ignore&&(n+=h.readIgnored(this._input)):n=this.__patterns.cdata.read()),n&&((e=this._create_token(c.COMMENT,n)).directives=i)),e},i.prototype._read_processing=function(t){var e,n=null,i=null;return"<"===t&&("!"!==(e=this._input.peek(1))&&"?"!==e||(i=(i=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),i&&((n=this._create_token(c.COMMENT,i)).directives=null)),n},i.prototype._read_open=function(t,e){var n=null,i=null;return e||"<"===t&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),i=this._create_token(c.TAG_OPEN,n)),i},i.prototype._read_open_handlebars=function(t,e){var n=null,i=null;return e||this._options.indent_handlebars&&"{"===t&&"{"===this._input.peek(1)&&(i="!"===this._input.peek(2)?(n=(n=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),this._create_token(c.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),this._create_token(c.TAG_OPEN,n))),i},i.prototype._read_close=function(t,e){var n=null,i=null;return e&&("<"===e.text[0]&&(">"===t||"/"===t&&">"===this._input.peek(1))?(n=this._input.next(),"/"===t&&(n+=this._input.next()),i=this._create_token(c.TAG_CLOSE,n)):"{"===e.text[0]&&"}"===t&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),i=this._create_token(c.TAG_CLOSE,"}}"))),i},i.prototype._read_attribute=function(t,e,n){var i,s,r=null;return n&&"<"===n.text[0]&&("="===t?r=this._create_token(c.EQUALS,this._input.next()):'"'===t||"'"===t?(s=this._input.next(),s+='"'===t?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),r=this._create_token(c.VALUE,s)):(i=this.__patterns.attribute.read())&&(r=e.type===c.EQUALS?this._create_token(c.VALUE,i):this._create_token(c.ATTRIBUTE,i))),r},i.prototype._is_content_unformatted=function(t){return-1===this._options.void_elements.indexOf(t)&&(-1!==this._options.content_unformatted.indexOf(t)||-1!==this._options.unformatted.indexOf(t))},i.prototype._read_raw_content=function(t,e,n){var i="";if(n&&"{"===n.text[0])i=this.__patterns.handlebars_raw_close.read();else if(e.type===c.TAG_CLOSE&&"<"===e.opened.text[0]){var s=e.opened.text.substr(1).toLowerCase();if("script"===s||"style"===s){var r=this._read_comment_or_cdata(t);if(r)return r.type=c.TEXT,r;i=this._input.readUntil(new RegExp("</"+s+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(s)&&(i=this._input.readUntil(new RegExp("</"+s+"[\\n\\r\\t ]*?>","ig")))}return i?this._create_token(c.TEXT,i):null},i.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e=e||this.__patterns.word.read())return this._create_token(c.TEXT,e)},t.exports.Tokenizer=i,t.exports.TOKEN=c}],s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=18));"function"==typeof define&&define.amd?define(["require","./beautify","./beautify-css"],function(t){var n=t("./beautify"),i=t("./beautify-css");return{html_beautify:function(t,e){return a(t,e,n.js_beautify,i.css_beautify)}}}):"undefined"!=typeof exports?(r=require("./beautify.js"),o=require("./beautify-css.js"),exports.html_beautify=function(t,e){return a(t,e,r.js_beautify,o.css_beautify)}):"undefined"!=typeof window?window.html_beautify=function(t,e){return a(t,e,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(t,e){return a(t,e,global.js_beautify,global.css_beautify)})}(),window.RedactorConfigurationSets=window.RedactorConfigurationSets||{},window.MODx||(window.MODx={}),MODx.loadRedactorConfigurationSet=function(t,e){if(t=(t=t||"").split(",").filter(Boolean),console.debug("[Redactor] Initialising configuration set #"+e+" for elements:",t),window.RedactorConfigurationSets[e])for(var n=0;n<t.length;n++)"ta"===t[n]&&window.ContentBlocksWillRenderContent?console.debug("Not initialising Redactor on content field - ContentBlocks is in use."):window.RedactorConfigurationSets[e](t[n]);else console.error('[Redactor] Configuration set with ID "'+e+'" is not available')},MODx.loadRTE=MODx.loadRedactorRTE=function(e){var t=window.RedactorConfigurationSet||1;"ta"!==e&&!1!==e||(e=e||"",document.querySelectorAll(".modx-richtext").forEach(function(t){e+=","+t.id})),MODx.loadRedactorConfigurationSet(e,t)};