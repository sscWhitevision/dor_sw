Redactor.add("plugin","baseurls",{init:function(t){this.app=t,this.editor=t.editor,this.toolbar=t.toolbar,this.opts=t.opts,this.app.callback.add("syncing",this.cleanOnSync.bind(this))},start:function(){this.processEditorSource()},onsource:{closed:function(){this.processEditorSource()}},onimage:{inserted:function(){this.processEditorSource()},changed:function(){this.processEditorSource()}},processEditorSource:function(){var t=this.editor.getElement().get().querySelectorAll("img");0!==t.length&&t.forEach(this.processImage.bind(this))},processImage:function(t){var e=t.getAttribute("src"),i=this.normaliseUrl(e);e!==i.displaySrc&&t.setAttribute("src",i.displaySrc),t.setAttribute("data-src",i.cleanedSrc)},cleanOnSync:function(e){var i=[];return this.editor.getElement().get().querySelectorAll("img").forEach(function(t){var e=t.getAttribute("data-src");e&&i.push({src:t.getAttribute("src"),cleanSrc:e})}),i.forEach(function(t){e=(e=e.replace('src="'+t.src+'"','src="'+t.cleanSrc+'"')).replace('data-src="'+t.cleanSrc+'"',"")}),e},normaliseUrl:function(t){var e=this.opts.modx.base_url,i=this.opts.modx.site_url,o=this.opts.baseurlsMode||"relative",s=t.substr(0,e.length)===e;if("http"===t.substr(0,4)||"//"===t.substr(0,2)){if(t.substr(0,i.length)!==i)return{cleanedSrc:t,displaySrc:t};t=t.substr(i.length),s=!1}var a=t,n=t;switch(o){case"full":s?n=i+t.substr(e.length):a=n=i+t;break;case"absolute":s||(n=a=e+t);break;case"root-relative":s?n=(n="/"+t.substr(e.length)).replace(/\/\/+/g,"/"):a=(a="/"+t).replace(/\/\/+/g,"/");break;case"relative":default:s?n=t.substr(e.length):a=e+t}return{cleanedSrc:n,displaySrc:a}}}),function(r){r.add("plugin","better_filemanager",{translations:{en:{choose:"Choose",loading:"Loading...",browse_files:"Browse Files"}},init:function(t){this.app=t,this.lang=t.lang,this.opts=t.opts},onmodal:{file:{open:function(t,e){this.buildModal(t)}}},buildModal:function(t){this.opts.fileSimpleBrowser&&this.addSimpleBrowser(t),this.opts.fileMODXBrowser&&window.MODx&&window.MODx.browser&&this.addMODXBrowser(t)},addSimpleBrowser:function(t){this.$chooseTab=r.dom("<div>"),this.$chooseTab.attr("data-title",this.lang.get("choose")),this.$chooseTab.addClass("redactor-modal-tab"),this.$chooseTab.hide(),this.$chooseTab.css({overflow:"auto",height:"300px","line-height":1}),this.$pathSelect=r.dom('<select class="redactormedia__path_select">'),this.$pathSelect.append('<option value="">'+this.lang.get("loading")+"</option>"),this.$pathSelect.attr("disabled","disabled"),this.$pathSelect.attr("title",this.lang.get("loading")),this.$pathSelect.on("change",this.chooseDirectory.bind(this)),this.$chooseTab.append(this.$pathSelect),this.$fileHolder=r.dom('<ul class="redactormedia__files">'),this.$chooseTab.append(this.$fileHolder),t.getBody().append(this.$chooseTab),r.ajax.get({url:this.opts.modx.connector_url+"?action=media/directories&type=file&configuration="+this.opts.modx.configuration_set+"&HTTP_MODAUTH="+this.opts.modx.auth,success:this.renderDirectories.bind(this)}),this.fetchFiles("/")},chooseDirectory:function(){var t=this.$pathSelect.val();this.fetchFiles(t)},_loader:function(){var t=r.dom('<li class="redactormedia__loader ">');return t.html("<em>"+this.lang.get("loading")+"</em>"),t},fetchFiles:function(t){t=t||"/",this.$fileHolder.empty(),this.$fileHolder.append(this._loader()),r.ajax.get({url:this.opts.modx.connector_url+"?action=media/files&type=file&dir="+t+"&configuration="+this.opts.modx.configuration_set+"&HTTP_MODAUTH="+this.opts.modx.auth,success:this.renderFiles.bind(this)})},renderFiles:function(t){for(var e in this.$fileHolder.empty(),t){var i,o,s,a,n;t.hasOwnProperty(e)&&("object"==typeof(i=t[e])&&(o=r.dom("<li>"),(s=r.dom("<a>")).attr("href","#"),s.addClass("redactor-file-manager-link"),s.attr("data-params",encodeURI(JSON.stringify(i))),s.text(i.name),s.on("click",this._insert.bind(this)),(a=r.dom("<span>")).addClass("r-file-name"),a.addClass("r-file-modified"),a.text(i.modified),s.append(a),(n=r.dom("<span>")).addClass("r-file-size"),n.text(i.filesize),s.append(n),o.append(s),this.$fileHolder.append(o)))}},renderDirectories:function(t){for(var e in this.$pathSelect.empty(),t){var i,o;t.hasOwnProperty(e)&&("object"==typeof(i=t[e])&&((o=r.dom("<option>")).attr("value",i.path),o.text(i.path),this.$pathSelect.append(o)))}this.$pathSelect.removeAttr("disabled"),this.$pathSelect.attr("title",this.lang.get("choose_directory"))},_insert:function(t){t.preventDefault();var e=r.dom(t.target).closest(".redactor-file-manager-link"),i=JSON.parse(decodeURI(e.attr("data-params")));this.app.api("module.file.insert",{file:i})},addMODXBrowser:function(t){this.$modal=t,this.$chooseBtn=r.dom("<button>"),this.$chooseBtn.html(this.lang.get("browse_files")),this.$chooseBtn.addClass("redactor-modx-browser-button"),this.$chooseBtn.on("click",function(t){t.preventDefault();var e=MODx.load({xtype:"modx-browser",id:Ext.id(),multiple:!0,listeners:{select:this.browserCallback.bind(this)},hideFiles:!0,title:this.lang.get("browse_files"),source:this.app.opts.fileMODXBrowserSource||1,openTo:this.app.opts.fileMODXBrowserPath||"/"});e.setSource(this.app.opts.fileMODXBrowserSource||1),e.show(),this.app.api("module.modal.close")}.bind(this)),t.getBody().find(".upload-redactor-box").before(this.$chooseBtn)},browserCallback:function(t){var e=t.fullRelativeUrl,i=this.$modal?this.$modal.find("#modal-file-title"):null,o=i&&i.val()||t.name;this.app.api("module.file.insert",{file:{id:e,url:e,name:o}})}})}(Redactor),function(p){p.add("plugin","better_links",{init:function(t){window._resourceTitleCache=window._resourceTitleCache||{},this.app=t,this.lang=t.lang,this.opts=t.opts},onmodal:{link:{open:function(t,e){this._enhanceField(t,"modal-link-url",!0,!0)}},imageedit:{open:function(t){this._enhanceField(t,"modal-image-url")}}},_enhanceField:function(t,e,i,o){var a=(this._lastModal=t).find("#"+e),s=t.find("label[for="+e+"]"),n=i?' <span class="req">*</span>':"",r=p.dom("<input>");a.attr("id",a.attr("id")+"-"+this.app.uuid),s.attr("for",s.attr("for")+"-"+this.app.uuid),e=a.attr("id"),o&&setTimeout(function(){a.focus()},500),a.removeAttr("name"),r.attr("name","url"),r.attr("type","hidden"),r.val(a.val()),a.after(r),s.html(this.lang.get("special_url")+n);var l,d,c=this.opts.linkToAnchor;function h(t){t=t||!1;var e=a.val(),i=t?r.val():e,o=function(t){var e="url";0===t.indexOf("mailto:")||/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(t)?e="email":(0<=t.indexOf("[[~")&&3<=t.indexOf("]]")||""!==t&&!isNaN(t))&&(e="resource");return e}(i),s="";c&&("email"===o?l.hide():l.show(),s=d.val(),-1!==i.indexOf("#")&&(0===s.length&&(s=i.substring(i.indexOf("#")+1)),e=i=i.substring(0,i.indexOf("#")))),a.attr("data-type",o),"url"===o||("email"===o?(0===i.indexOf("mailto:")&&(e=(i=i.substring(7)).substring(7)),i="mailto:"+i):"resource"===o&&(0<=i.indexOf("[[~")&&(i=i.substring(i.indexOf("[[~")+3,i.indexOf("]]")),e=window._resourceTitleCache[i]?window._resourceTitleCache[i]:i),i="[[~"+i+"]]")),c&&(s.length&&(i+="#"+s),d.val(s)),r.val(i),a.val(e)}c&&(l=p.dom('<div class="form-item">'),d=p.dom("<input>"),l.addClass("form-item"),l.append(p.dom('<label for="modal-link-anchor">'+this.lang.get("anchor")+"</label>")),d.attr("id","modal-link-anchor"),d.on("input",h),l.append(d),s.parent().after(l)),this.typeahead=autocomplete("#"+e,{openOnFocus:!0,minLength:0,cssClasses:{root:"redactor-autocomplete"}},[{source:this._debounce(this._searchResources.bind(this),300),templates:{suggestion:function(t){return window._resourceTitleCache[t.id]=t.pagetitle,'<div><p class="resource-id">#'+t.id+'</p><p class="resource-crumbs">'+(t.crumbs||"")+'</p><p class="resource-name">'+t.pagetitle+'</p><p class="resource-introtext">'+t.introtext+"</p></div>"}},displayKey:"pagetitle"}]),this.typeahead.on("autocomplete:selected",function(t,e,i,o){a.val(e.pagetitle),r.val("[[~"+e.id+"]]"),h(!0)}),a.on("input",function(){h()}),h(),a.after(p.dom('<i class="icon">'))},_searchResources:function(t,e){var i;0<=t.indexOf("[[~")&&3<=t.indexOf("]]")&&(t=t.substring(t.indexOf("[[~")+3,t.indexOf("]]"))),t&&""!==t||(i=!!this._lastModal&&this._lastModal.find("input[name=text]"))&&i.nodes[0]&&""!==i.nodes[0].value&&(t=i.nodes[0].value),p.ajax.get({url:this.opts.linkResourceUrl+"&query="+encodeURIComponent(t),success:e})},_debounce:function(o,s,a){var n;return function(){var t=this,e=arguments,i=a&&!n;clearTimeout(n),n=setTimeout(function(){n=null,a||o.apply(t,e)},s),i&&o.apply(t,e)}}})}(Redactor),function(l){l.add("plugin","better_imagemanager",{translations:{en:{choose:"Choose",browse_images:"Browse images"}},init:function(t){this.app=t,this.lang=t.lang,this.opts=t.opts},onmodal:{image:{open:function(t,e){this.buildModal(t)}}},buildModal:function(t){this.opts.imageSimpleBrowser&&this.addSimpleBrowser(t),this.opts.imageMODXBrowser&&window.MODx&&window.MODx.browser&&this.addMODXBrowser(t)},addSimpleBrowser:function(t){t.css({maxWidth:"800px",marginLeft:"-400px"}),this.$chooseTab=l.dom("<div>"),this.$chooseTab.attr("data-title",this.lang.get("choose")),this.$chooseTab.addClass("redactor-modal-tab"),this.$chooseTab.hide(),this.$chooseTab.css({overflow:"auto",height:"400px","line-height":1}),this.$pathSelect=l.dom('<select class="redactormedia__path_select">'),this.$pathSelect.append('<option value="">'+this.lang.get("loading")+"</option>"),this.$pathSelect.attr("disabled","disabled"),this.$pathSelect.attr("title",this.lang.get("loading")),this.$pathSelect.on("change",this.chooseDirectory.bind(this)),this.$chooseTab.append(this.$pathSelect),this.$imageHolder=l.dom('<ul class="redactormedia__images">'),this.$chooseTab.append(this.$imageHolder),t.getBody().append(this.$chooseTab),l.ajax.get({url:this.opts.modx.connector_url+"?action=media/directories&configuration="+this.opts.modx.configuration_set+"&HTTP_MODAUTH="+this.opts.modx.auth,success:this.renderDirectories.bind(this)}),this.fetchImages("/")},chooseDirectory:function(){var t=this.$pathSelect.val();this.fetchImages(t)},_loader:function(){var t=l.dom('<li class="redactormedia__loader">');return t.html("<em>"+this.lang.get("loading")+"</em>"),t},fetchImages:function(t){t=t||"/",this.$imageHolder.empty(),this.$imageHolder.append(this._loader()),l.ajax.get({url:this.opts.modx.connector_url+"?action=media/files&dir="+t+"&configuration="+this.opts.modx.configuration_set+"&HTTP_MODAUTH="+this.opts.modx.auth,success:this.renderImages.bind(this)})},renderImages:function(t){for(var e in this.$imageHolder.empty(),t){var i,o,s,a,n,r;t.hasOwnProperty(e)&&("object"==typeof(i=t[e])&&(o=l.dom("<img>"),s=i.thumb?i.thumb:i.url,o.attr("src",s),o.attr("data-params",encodeURI(JSON.stringify(i))),o.attr("tabindex",0),o.on("click",this._insert.bind(this)),(a=l.dom('<p class="redactormedia__image_sizes">')).text(i.dimensions+", "+i.filesize),(n=l.dom('<p class="redactormedia__image_name">')).text(i.name),(r=l.dom('<li class="redactormedia__image">')).append(o),r.append(n),r.append(a),this.$imageHolder.append(r)))}},renderDirectories:function(t){for(var e in this.$pathSelect.empty(),t){var i,o;t.hasOwnProperty(e)&&("object"==typeof(i=t[e])&&((o=l.dom("<option>")).attr("value",i.path),o.text(i.path),this.$pathSelect.append(o)))}this.$pathSelect.removeAttr("disabled"),this.$pathSelect.attr("title",this.lang.get("choose_directory"))},_insert:function(t){t.preventDefault();var e=l.dom(t.target),i=JSON.parse(decodeURI(e.attr("data-params")));this.app.api("module.image.insert",{image:i})},addMODXBrowser:function(t){this.$chooseBtn=l.dom("<button>"),this.$chooseBtn.html(this.lang.get("browse_images")),this.$chooseBtn.addClass("redactor-modx-browser-button"),this.$chooseBtn.on("click",function(t){t.preventDefault();var e=MODx.load({xtype:"modx-browser",id:Ext.id(),multiple:!0,listeners:{select:this.browserCallback.bind(this)},allowedFileTypes:"png,gif,jpg,jpeg,svg,gif,webp",hideFiles:!0,title:this.lang.get("browse_images"),source:this.app.opts.imageMODXBrowserSource||1,openTo:this.app.opts.imageMODXBrowserPath||"/"});e.setSource(this.app.opts.imageMODXBrowserSource||1),e.show(),this.app.api("module.modal.close")}.bind(this)),t.getBody().find(".upload-redactor-box").before(this.$chooseBtn)},browserCallback:function(t){var e=t.fullRelativeUrl;this.app.api("module.image.insert",{image:{id:e,url:e}})}})}(Redactor),Redactor.add("plugin","divider",{init:function(t){this.toolbar=t.toolbar,this.opts=t.opts},start:function(){var i=!1,o=1,s=this.toolbar,a=this.opts.buttons;this.opts.buttons.forEach(function(t,e){i&&"divider"===t&&(a.splice(e,1,"divider"+o),o++),i=t}),this.opts.buttons=a,this.opts.buttons.forEach(function(t,e){"divider"===t.substring(0,"divider".length)&&s.addButton(t,{title:"|"}).disable()})}}),Redactor.add("plugin","download",{init:function(t){this.toolbar=t.toolbar,this.source=t.source,this.lang=t.lang},start:function(){var t=this.toolbar.buttons.indexOf("download"),e=null;1<=t&&(e=this.toolbar.buttons[t-1]),this.toolbar.addButtonAfter(e,"download",{title:this.lang.get("download"),api:"plugin.download.download"}).setIcon('<i class="icon icon-download"></i>')},download:function(){var t=document.createElement("a");t.setAttribute("target","_blank"),t.setAttribute("download","content.html"),t.setAttribute("href","data:text/html,"+encodeURI(this.source.getCode())),t.click()}}),Redactor.add("plugin","errors",{onfile:{uploadError:function(t){window.MODx&&window.MODx.msg?MODx.msg.alert(_("error"),t.message):alert(t.message)}},onimage:{uploadError:function(t){window.MODx&&window.MODx.msg?MODx.msg.alert(_("error"),t.message):alert(t.message)}},onupload:{error:function(t){window.MODx&&window.MODx.msg?MODx.msg.alert(_("error"),t.message):alert(t.message)}}}),function(n){n.add("plugin","imagestyle",{translations:{en:{image_style:"Image Style"}},init:function(t){this.app=t,this.lang=t.lang,this.opts=t.opts},onmodal:{imageedit:{open:function(t){this.buildModal(t)}}},onimage:{changed:function(t){if(this._modal){var e=this._modal.find("#modal-image-style").get(0);if(!e)return;var i=this.opts.imageFigure&&t.closest("figure")||t.$element;this.opts.imageStyles.forEach(function(t){i.removeClass(t.value)});var o=e.options[e.selectedIndex].value;0<o.length&&i.addClass(o)}}},buildModal:function(t){this._modal=t;var i=this._getCurrent(),e=t.$modalBody.find(".form-item-caption").last(),o=n.dom("<div>");o.addClass("form-item"),o.addClass("form-item-style");var s=n.dom("<label>").attr("for","modal-image_style").text(this.lang.get("image_style")),a=n.dom("<select>").attr("name","style").attr("id","modal-image-style");a.append(n.dom("<option>").attr("value","").text("")),this.opts.imageStyles.forEach(function(t){var e=n.dom("<option>").attr("value",t.value).text(t.label);i===t.value&&e.attr("selected","selected"),a.append(e)}),o.append(s),o.append(a),e.after(o)},_getCurrent:function(){var o,s="";return this.app.module.image&&this.app.module.image.$image&&this.app.module.image.$image.$element&&(o=this.app.module.image.$image,o=this.opts.imageFigure&&o.closest("figure")||o.$element,this.opts.imageStyles.forEach(function(t){var e=t.value.split(" "),i=!0;e.forEach(function(t){o.hasClass(t)||(i=!1)}),i&&(s=t.value)})),s}})}(Redactor),function(n){n.add("plugin","linkstyle",{translations:{en:{link_style:"Link Style"}},init:function(t){this.app=t,this.lang=t.lang,this.opts=t.opts},onmodal:{link:{open:function(t){this.buildModal(t)}}},onlink:{inserted:function(t){var e,i,o,s=t.first();!this._modal||(e=this._modal.find("#modal-link-style").get(0))&&(i=s,this.opts.linkStyles.forEach(function(t){i.removeClass(t.value)}),0<(o=e.options[e.selectedIndex].value).length&&i.addClass(o))},changed:function(t){var e,i,o=this._modal.find("#modal-link-style").get(0);!o||(e=t[0])&&(this.opts.linkStyles.forEach(function(t){t.value.split(" ").forEach(function(t){e.classList.remove(t)})}),0<(i=o.options[o.selectedIndex].value).length&&i.split(" ").forEach(function(t){e.classList.add(t)}))}},buildModal:function(t){this._modal=t;var i=this._getCurrent(),e=t.$modalBody.find(".form-item").last(),o=n.dom("<div>");o.addClass("form-item"),o.addClass("form-item-style");var s=n.dom("<label>").attr("for","modal-link_style").text(this.lang.get("link_style")),a=n.dom("<select>").attr("name","style").attr("id","modal-link-style");a.append(n.dom("<option>").attr("value","").text("")),this.opts.linkStyles.forEach(function(t){var e=n.dom("<option>").attr("value",t.value).text(t.label);i===t.value&&e.attr("selected","selected"),a.append(e)}),o.append(s),o.append(a),e.after(o)},_getCurrent:function(){var o,s="";return this.app.module.link&&this.app.module.link.$link&&(o=this.app.module.link.$link.first(),this.opts.linkStyles.forEach(function(t){var e=t.value.split(" "),i=!0;e.forEach(function(t){o.hasClass(t)||(i=!1)}),i&&(s=t.value)})),s}})}(Redactor),Redactor.add("plugin","markdirty",{init:function(t){t.callback.add("syncing",this.doSync.bind(this))},start:function(){},doSync:function(t){window.MODx&&MODx.fireResourceFormChange&&MODx.fireResourceFormChange()}}),Redactor.add("plugin","fixed_toolbar",{init:function(t){this.app=t,this.toolbar=t.toolbar,this.opts=t.opts,this.opts.toolbarFixed=!1},start:function(){if(this.scrollTarget=document.querySelector("#modx-content > .x-panel-bwrap > .x-panel-body"),this.scrollTarget)this.element=this.app.container.getElement().get(),this.topOffset=-1===document.documentElement.className.indexOf("redactor-modx3")?document.getElementById("modx-header").clientHeight:0,this._toolbarWrapper=this.toolbar.getWrapper().get(),this._toolbar=this.toolbar.getElement().get(),this.scrollTarget.addEventListener("scroll",this.throttleScroll.bind(this),{passive:!0,capture:!0});else{if(-1!==document.documentElement.className.indexOf("fred--active"))return;console.error("[Redactor.fixed_toolbar] Scroll target not found")}},throttleScroll:function(){this._throttled||(this._throttled=setTimeout(this.onScroll.bind(this),100))},onScroll:function(){var t,e,i,o;this._throttled=!1,this._toolbar&&(t=this._toolbar.classList.contains("redactor-toolbar__fixed"),this.element.classList.contains("redactor-box-fullscreen")?t&&(this._unfix(),this.app.plugin.fullscreen&&this.app.plugin.fullscreen._resize&&this.app.plugin.fullscreen._resize()):(i=(e=this.element.getBoundingClientRect()).top-this.topOffset,o=this.element.getBoundingClientRect().bottom-this.topOffset-this._toolbar.clientHeight,i<0&&0<o?t||this._fix(e):t&&this._unfix()))},_fix:function(t){this._toolbarWrapper.style.height=this._toolbarWrapper.clientHeight+"px";var e,i=this._toolbarWrapper.clientWidth-18,o=this.topOffset,s=t.x+t.width,a=document.getElementById("modx-action-buttons").getBoundingClientRect();s>a.x&&(i-(e=s-a.x)<i/3||i-e<250?o+=a.height:i-=e),this._toolbar.classList.add("redactor-toolbar__fixed"),this._toolbar.style.width=i+"px",this._toolbar.style.top=o+"px"},_unfix:function(){this._toolbarWrapper.style.height=null,this._toolbar.classList.remove("redactor-toolbar__fixed"),this._toolbar.style.width=null,this._toolbar.style.position=null,this._toolbar.style.top=null}}),Redactor.add("plugin","fredactor",{init:function(t){this.app=t,this.element=t.element,this.toolbar=t.toolbar,this.source=t.source,this.lang=t.lang,this.app.callback.add("syncing",this.doSync.bind(this))},start:function(){var t=this.element.getElement().attr("id");window.FredactorInstances[t]&&(this.fredactor=window.FredactorInstances[t])},doSync:function(t){this.fredactor.onChange(t)}}),Redactor.add("plugin","theme",{translations:{en:{"toggle-dark-mode":"Toggle dark mode"}},init:function(t){this.app=t,this.lang=t.lang,this.toolbar=t.toolbar,this.container=t.container},start:function(){""!==this.app.opts.theme&&this.container.getElement().addClass("redactor-theme-"+this.app.opts.theme),this.app.opts.structure&&""!==this.app.opts.structureTheme&&this.container.getElement().addClass("redactor-structure__"+this.app.opts.structureTheme);var t=this.toolbar.buttons.indexOf("toggledark"),e=null;1<=t&&(e=this.toolbar.buttons[t-1]),e&&(this.$button=this.toolbar.addButtonAfter(e,"download",{title:this.lang.get("toggle-dark-mode"),api:"plugin.theme.toggle_dark"}),this.$button.setIcon('<i class="icon icon-toggle-on"></i>'))},toggle_dark:function(){var t=this.container.getElement();t.toggleClass("redactor-theme__dark"),t.hasClass("redactor-theme__dark")?this.$button.setIcon('<i class="icon icon-toggle-off"></i>'):this.$button.setIcon('<i class="icon icon-toggle-on"></i>')}}),Redactor.add("plugin","source_beautify",{init:function(t){this.app=t,this.app.callback.add("syncBefore",this.callbackOnBeforeSync.bind(this))},onsource:{open:function(t){return this._beautify(t)}},callbackOnBeforeSync:function(t){return this._throttle?t:(this._throttle=!0,setTimeout(function(){this._throttle=!1}.bind(this),3e3),this._beautify(t))},_beautify:function(t){return html_beautify(t)}}),Redactor.add("plugin","noname",{init:function(t){this.uuid=t.uuid,this.element=t.element},start:function(){var t=this.element.getElement();t.attr("name")==="content-"+this.uuid&&t.attr("name","")}}),Redactor.add("plugin","shifttab",{init:function(t){this.app=t,this.selection=t.selection,this.inspector=t.inspector,this.app.callback.add("tab",this.handleTabEvent.bind(this))},handleTabEvent:function(t){if(!t.shiftKey)return!0;var e=this.selection.getCurrent();return!this.inspector.parse(e).isList()||(this.app.api("module.list.outdent"),!1)}});
//# sourceMappingURL=plugins.min.js.map