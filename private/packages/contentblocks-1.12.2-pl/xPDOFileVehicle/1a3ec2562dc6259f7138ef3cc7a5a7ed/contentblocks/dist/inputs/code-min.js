!function(o,r){r.fieldTypes.code=function(t,n){var i={editor:null};return window.ace||alert("Code input initialised, but Ace is not available. This may be due to an error in Ace or a loading issue."),ace.config.set("basePath",ContentBlocksConfig.assets_url+"js/vendor/9cloud/ace"),i.init=function(){this.editor=ace.edit(n.generated_id+"-editor"),this.editor.setTheme("ace/theme/"+ContentBlocksConfig["code.theme"]),this.editor.setValue(n.value||"",1),this.editor.setOptions({minLines:1,maxLines:1/0,wrap:"free",showPrintMargin:!1}),this.editor.on("change",function(){r.fireChange()});var a=t.find(".language"),e=(e=n.properties.available_languages||"html=HTML,javascript=JavaScript,css=CSS,php=PHP").split(",");o.each(e,function(e,t){t=t.split("=");var n=_("contentblocks."+t[1])||t[1];a.append('<option value="'+t[0]+'">'+n+"</option>")}),e.length<2&&a.parent().hide(),n.lang||(n.lang=n.properties.default_language||"html"),a.val(n.lang),this.editor.getSession().setMode("ace/mode/"+n.lang),a.on("change",function(){i.editor.getSession().setMode("ace/mode/"+o(this).val()),r.fireChange()})},i.getData=function(){return{value:this.editor.getValue(),lang:t.find(".language").val()}},i.confirmBeforeDelete=function(){var e=i.getData(),t=e.lang!=n.properties.default_language,e=0<e.value.length;return t||e},i}}(vcJquery,ContentBlocks);
//# sourceMappingURL=code-min.js.map